{% extends "base_privada.html" %}

{% block conteudo %}
<div class="cadastro-cuidador-page">
    <a href="/cadastro" class="voltar">
        <i class="bi bi-arrow-left"></i>
    </a>

    <div class="container cadastro-container">
        <div class="header-cadastro">
            <img src="/static/img/logo2.png" alt="Logo Hestia" class="logo-cadastro">
            <h1>Cadastro de Cuidador</h1>
            <p class="subtitle">Complete as informações para criar sua conta profissional</p>
        </div>

        <form id="formCuidador" class="cadastro-form">
            <!-- Dados Pessoais -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="bi bi-person-fill"></i>
                    Dados Pessoais
                </h3>
                
                <div class="row">
                    <div class="col-md-8">
                        <label for="nome" class="form-label">Nome Completo *</label>
                        <input type="text" class="form-control" id="nome" required>
                    </div>
                    <div class="col-md-4">
                        <label for="dataNascimento" class="form-label">Data de Nascimento *</label>
                        <input type="date" class="form-control" id="dataNascimento" required>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <label for="email" class="form-label">Email *</label>
                        <input type="email" class="form-control" id="email" required>
                    </div>
                    <div class="col-md-3">
                        <label for="telefone" class="form-label">Telefone/WhatsApp *</label>
                        <input type="tel" class="form-control" id="telefone" placeholder="(00) 00000-0000" required>
                    </div>
                    <div class="col-md-3">
                        <label for="cpf" class="form-label">CPF *</label>
                        <input type="text" class="form-control" id="cpf" placeholder="000.000.000-00" required>
                    </div>
                </div>

                <div class="foto-upload">
                    <label class="form-label">Foto de Perfil (Opcional)</label>
                    <div class="upload-area">
                        <i class="bi bi-camera-fill"></i>
                        <span>Clique para adicionar uma foto</span>
                        <input type="file" id="fotoPerfil" accept="image/*">
                    </div>
                </div>
            </div>

            <!-- Endereço -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="bi bi-geo-alt-fill"></i>
                    Localização
                </h3>
                
                <div class="row">
                    <div class="col-md-3">
                        <label for="cep" class="form-label">CEP *</label>
                        <input type="text" class="form-control" id="cep" placeholder="00000-000" required>
                    </div>
                    <div class="col-md-6">
                        <label for="endereco" class="form-label">Endereço *</label>
                        <input type="text" class="form-control" id="endereco" readonly>
                    </div>
                    <div class="col-md-3">
                        <label for="numero" class="form-label">Número</label>
                        <input type="text" class="form-control" id="numero">
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <label for="bairro" class="form-label">Bairro *</label>
                        <input type="text" class="form-control" id="bairro" readonly>
                    </div>
                    <div class="col-md-4">
                        <label for="cidade" class="form-label">Cidade *</label>
                        <input type="text" class="form-control" id="cidade" readonly>
                    </div>
                    <div class="col-md-4">
                        <label for="estado" class="form-label">Estado *</label>
                        <input type="text" class="form-control" id="estado" readonly>
                    </div>
                </div>
            </div>

            <!-- Dados Profissionais -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="bi bi-briefcase-fill"></i>
                    Informações Profissionais
                </h3>
                
                <div class="row">
                    <div class="col-md-4">
                        <label for="experiencia" class="form-label">Anos de Experiência *</label>
                        <select class="form-select" id="experiencia" required>
                            <option value="">Selecione...</option>
                            <option value="0-1">Menos de 1 ano</option>
                            <option value="1-2">1 a 2 anos</option>
                            <option value="3-5">3 a 5 anos</option>
                            <option value="5-10">5 a 10 anos</option>
                            <option value="10+">Mais de 10 anos</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <label for="valorHora" class="form-label">Valor por Hora Desejado (R$) *</label>
                        <input type="number" class="form-control" id="valorHora" min="15" step="0.50" placeholder="25.00" required>
                    </div>
                    <div class="col-md-4">
                        <label for="escolaridade" class="form-label">Escolaridade *</label>
                        <select class="form-select" id="escolaridade" required>
                            <option value="">Selecione...</option>
                            <option value="fundamental">Ensino Fundamental</option>
                            <option value="medio">Ensino Médio</option>
                            <option value="tecnico">Técnico</option>
                            <option value="superior">Ensino Superior</option>
                            <option value="pos">Pós-graduação</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="apresentacao" class="form-label">Apresentação Pessoal *</label>
                    <textarea class="form-control" id="apresentacao" rows="4" placeholder="Conte um pouco sobre você, sua experiência e motivação para trabalhar como cuidador..." maxlength="500" required></textarea>
                    <small class="form-text">Máximo 500 caracteres</small>
                </div>
            </div>

            <!-- Disponibilidade -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="bi bi-clock-fill"></i>
                    Disponibilidade de Horários
                </h3>
                
                <div class="disponibilidade-grid">
                    <div class="periodo-item">
                        <input type="checkbox" id="manha" value="manha">
                        <label for="manha">
                            <i class="bi bi-sunrise"></i>
                            Manhã (6h às 12h)
                        </label>
                    </div>
                    <div class="periodo-item">
                        <input type="checkbox" id="tarde" value="tarde">
                        <label for="tarde">
                            <i class="bi bi-sun"></i>
                            Tarde (12h às 18h)
                        </label>
                    </div>
                    <div class="periodo-item">
                        <input type="checkbox" id="noite" value="noite">
                        <label for="noite">
                            <i class="bi bi-moon"></i>
                            Noite (18h às 24h)
                        </label>
                    </div>
                    <div class="periodo-item">
                        <input type="checkbox" id="madrugada" value="madrugada">
                        <label for="madrugada">
                            <i class="bi bi-moon-stars"></i>
                            Madrugada (0h às 6h)
                        </label>
                    </div>
                    <div class="periodo-item">
                        <input type="checkbox" id="finsemana" value="finsemana">
                        <label for="finsemana">
                            <i class="bi bi-calendar-week"></i>
                            Fins de Semana
                        </label>
                    </div>
                    <div class="periodo-item">
                        <input type="checkbox" id="feriados" value="feriados">
                        <label for="feriados">
                            <i class="bi bi-calendar-event"></i>
                            Feriados
                        </label>
                    </div>
                </div>
            </div>

            <!-- Especialidades -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="bi bi-heart-pulse-fill"></i>
                    Especialidades e Certificações
                </h3>
                
                <div class="especialidades-grid">
                    <div class="especialidade-item">
                        <input type="checkbox" id="idosos" value="idosos">
                        <label for="idosos">
                            <i class="bi bi-person-hearts"></i>
                            Cuidados com Idosos
                        </label>
                    </div>
                    <div class="especialidade-item">
                        <input type="checkbox" id="deficiencia" value="deficiencia">
                        <label for="deficiencia">
                            <i class="bi bi-universal-access"></i>
                            Pessoas com Deficiência
                        </label>
                    </div>
                    <div class="especialidade-item">
                        <input type="checkbox" id="alzheimer" value="alzheimer">
                        <label for="alzheimer">
                            <i class="bi bi-brain"></i>
                            Alzheimer/Demência
                        </label>
                    </div>
                    <div class="especialidade-item">
                        <input type="checkbox" id="medicamentos" value="medicamentos">
                        <label for="medicamentos">
                            <i class="bi bi-capsule"></i>
                            Administração de Medicamentos
                        </label>
                    </div>
                    <div class="especialidade-item">
                        <input type="checkbox" id="primeiros-socorros" value="primeiros-socorros">
                        <label for="primeiros-socorros">
                            <i class="bi bi-heart-pulse"></i>
                            Primeiros Socorros
                        </label>
                    </div>
                    <div class="especialidade-item">
                        <input type="checkbox" id="fisioterapia" value="fisioterapia">
                        <label for="fisioterapia">
                            <i class="bi bi-person-arms-up"></i>
                            Apoio Fisioterápico
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="cursos" class="form-label">Cursos e Certificações</label>
                    <textarea class="form-control" id="cursos" rows="3" placeholder="Liste seus cursos, certificações e qualificações na área de saúde e cuidados..."></textarea>
                </div>

                <div class="upload-documentos">
                    <label class="form-label">Upload de Certificados (Opcional)</label>
                    <div class="upload-area">
                        <i class="bi bi-file-earmark-text"></i>
                        <span>Adicionar certificados e documentos comprobatórios</span>
                        <input type="file" id="certificados" multiple accept=".pdf,.jpg,.jpeg,.png">
                    </div>
                </div>
            </div>

            <!-- Senha -->
            <div class="form-section">
                <h3 class="section-title">
                    <i class="bi bi-lock-fill"></i>
                    Segurança da Conta
                </h3>
                
                <div class="row">
                    <div class="col-md-6">
                        <label for="senha" class="form-label">Senha *</label>
                        <input type="password" class="form-control" id="senha" required>
                        <small class="form-text">Mínimo 8 caracteres</small>
                    </div>
                    <div class="col-md-6">
                        <label for="confirmarSenha" class="form-label">Confirmar Senha *</label>
                        <input type="password" class="form-control" id="confirmarSenha" required>
                    </div>
                </div>
            </div>

            <!-- Termos -->
            <div class="form-section">
                <div class="termos-area">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="termos" required>
                        <label class="form-check-label" for="termos">
                            Li e aceito os <a href="#" class="link-termos">Termos de Uso</a> e a <a href="#" class="link-termos">Política de Privacidade</a> *
                        </label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="verificacao" required>
                        <label class="form-check-label" for="verificacao">
                            Autorizo a verificação de antecedentes criminais para garantir a segurança da plataforma *
                        </label>
                    </div>
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="comunicacoes">
                        <label class="form-check-label" for="comunicacoes">
                            Aceito receber comunicações sobre oportunidades de trabalho e novidades da plataforma
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <a href="/login" class="btn-criar-conta">
                    <i class="bi bi-check-circle"></i>
                    Criar Minha Conta
                </a>
                <p class="login-link">
                    Já tem conta? <a href="/login">Faça login aqui</a>
                </p>
            </div>
        </form>
    </div>
</div>

<!-- Scripts específicos desta página -->
<script>
    // Máscara para telefone
    document.getElementById('telefone').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.length <= 11) {
            value = value.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3');
        }
        e.target.value = value;
    });

    // Máscara para CPF
    document.getElementById('cpf').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        value = value.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, '$1.$2.$3-$4');
        e.target.value = value;
    });

    // Máscara para CEP
    document.getElementById('cep').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        value = value.replace(/(\d{5})(\d{3})/, '$1-$2');
        e.target.value = value;
    });

    // Buscar endereço por CEP
    document.getElementById('cep').addEventListener('blur', function() {
        const cep = this.value.replace(/\D/g, '');
        if (cep.length === 8) {
            fetch(`https://viacep.com.br/ws/${cep}/json/`)
                .then(response => response.json())
                .then(data => {
                    if (!data.erro) {
                        document.getElementById('endereco').value = data.logradouro;
                        document.getElementById('bairro').value = data.bairro;
                        document.getElementById('cidade').value = data.localidade;
                        document.getElementById('estado').value = data.uf;
                    }
                })
                .catch(error => console.error('Erro ao buscar CEP:', error));
        }
    });

    // Contador de caracteres
    document.getElementById('apresentacao').addEventListener('input', function() {
        const maxLength = 500;
        const currentLength = this.value.length;
        const remaining = maxLength - currentLength;
        
        let counter = document.querySelector('.char-counter');
        if (!counter) {
            counter = document.createElement('small');
            counter.className = 'char-counter form-text';
            this.parentNode.appendChild(counter);
        }
        counter.textContent = `${currentLength}/${maxLength} caracteres`;
    });

    // Validação de senha
    document.getElementById('confirmarSenha').addEventListener('blur', function() {
        const senha = document.getElementById('senha').value;
        const confirmarSenha = this.value;
        
        if (senha !== confirmarSenha) {
            this.setCustomValidity('As senhas não coincidem');
        } else {
            this.setCustomValidity('');
        }
    });

    // Submit do formulário
    document.getElementById('formCuidador').addEventListener('submit', function(e) {
        e.preventDefault();
        // Aqui seria implementada a lógica de envio do formulário
        alert('Formulário enviado! (implementar integração com backend)');
    });
</script>

<!-- CSS específico para esta página -->
<link rel="stylesheet" href="/static/css/cadastro_cuidador.css">
{% endblock %}